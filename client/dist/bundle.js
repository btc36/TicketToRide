!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.games=new Array}return e.prototype.addGame=function(e){this.games.push(e)},e.prototype.removeGame=function(e){for(var t=this.games.length-1;t>=0;--t)this.games[t].getGameID()==e&&this.games.splice(t,1)},e.prototype.replaceGameList=function(e){this.games=e},e.prototype.getGames=function(){return this.games},e}();t.GameList=r},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(3),s=n(4),u=n(7),l=n(10),c=n(13),m=n(14),p=n(15),f=n(16),g=n(18),d=n(19);t.initialState={page:"loginRegister"};var y=function(e){function n(n){var r=e.call(this,n)||this;return r.state=t.initialState,r}return a(n,e),n.prototype.render=function(){return"loginRegister"==this.state.page?o.createElement(s.LoginRegisterViewModel,{main:this,services:this.props.services}):"gameList"==this.state.page?o.createElement(u.GameListViewModel,{main:this,services:this.props.services}):"gameLobby"==this.state.page?o.createElement(l.GameLobbyViewModel,{main:this,services:this.props.services}):void 0},n}(o.Component),h=new f.ClientRoot,v=new p.ExternalClientFacade(h),P=new m.Serializer,b=new c.ClientCommunicator("localhost","8080",P,v),G=new d.ServerProxy(b),_=new g.InternalClientFacade(G,h);i.render(o.createElement(y,{services:_}),document.getElementById("example"))},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(5),s=n(6),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=s.initialState,t.update=function(e,n){"transitionPage"==e&&t.props.main.setState({page:n})},t.onLoginButtonPressed=function(e){e.preventDefault(),t.props.services.login(t.state.loginUserName,t.state.loginPassword)},t.onRegisterButtonPressed=function(e){e.preventDefault(),t.props.services.register(t.state.loginUserName,t.state.loginPassword)},t.onLoginUserNameChange=function(e){t.setState({loginUserName:e.target.value})},t.onLoginPasswordChange=function(e){t.setState({loginPassword:e.target.value})},t.onRegisterUserNameChange=function(e){t.setState({registerUserName:e.target.value})},t.onRegisterPasswordChange=function(e){t.setState({registerPassword:e.target.value})},t.onRegisterConfirmPasswordChange=function(e){t.setState({registerConfirmPassword:e.target.value})},t}return a(t,e),t.prototype.render=function(){return i.LoginRegisterView(this)},t}(o.Component);t.LoginRegisterViewModel=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.LoginRegisterView=function(e){return r.createElement("div",{className:"view"},r.createElement("div",{className:"half-partition"},r.createElement("h1",null,"Login"),r.createElement("form",{onSubmit:e.onLoginButtonPressed},r.createElement("p",null,r.createElement("label",null,"User Name:",r.createElement("br",null),r.createElement("input",{type:"text",name:"login-username",value:e.state.loginUserName,onChange:e.onLoginUserNameChange}))),r.createElement("p",null,r.createElement("label",null,"Password:",r.createElement("br",null),r.createElement("input",{type:"text",name:"login-password",value:e.state.loginPassword,onChange:e.onLoginPasswordChange}))),r.createElement("p",null,r.createElement("input",{type:"submit",value:"Log in"})))),r.createElement("div",{className:"half-partition"},r.createElement("h1",null,"Register"),r.createElement("form",{onSubmit:e.onRegisterButtonPressed},r.createElement("p",null,r.createElement("label",null,"User Name:",r.createElement("br",null),r.createElement("input",{type:"text",name:"register-username",value:e.state.registerUserName,onChange:e.onRegisterUserNameChange}))),r.createElement("p",null,r.createElement("label",null,"Password:",r.createElement("br",null),r.createElement("input",{type:"text",name:"register-password",value:e.state.registerPassword,onChange:e.onRegisterPasswordChange}))),r.createElement("p",null,r.createElement("label",null,"Confirm password:",r.createElement("br",null),r.createElement("input",{type:"text",name:"register-confirm-password",value:e.state.registerConfirmPassword,onChange:e.onRegisterConfirmPasswordChange}))),r.createElement("input",{type:"submit",value:"Register"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState={loginUserName:"",loginPassword:"",registerUserName:"",registerPassword:"",registerConfirmPassword:"",errorMessage:""}},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(8),s=n(9),u=function(e){function t(t){var n=e.call(this,t)||this;return n.update=function(e,t){"transitionPage"==e?n.props.main.setState({page:t}):"updateGameList"==e&&n.setState({gameList:t})},n.createGameButtonPressed=function(e){e.preventDefault(),n.props.services.createGame(n.state.createGameNumPlayers,n.state.createGameName)},n.joinGameButtonPressed=function(e){e.preventDefault();var t=String(n.state.gameList[n.state.selectedGame].name),r=String(n.state.gameList[n.state.selectedGame].id);n.props.services.joinGame(t,r)},n.tableRowPressed=function(e){n.setState({selectedGame:e})},n.onCreateGameNameChange=function(e){n.setState({createGameName:e.target.value})},n.onCreateGameNumPlayersChange=function(e){n.setState({createGameNumPlayers:e.target.value})},n.isJoinGameButtonDisabled=function(){return-1!=n.state.selectedGame},n.state=s.initialState,n.props.services.getGameList(),n}return a(t,e),t.prototype.render=function(){return i.GameListView(this)},t}(o.Component);t.GameListViewModel=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.GameListView=function(e){for(var t=[],n=e.state.gameList.getGames(),a=function(a){t.push(r.createElement("tr",{onClick:function(){return e.tableRowPressed(a)},className:e.state.selectedGame==a?"active":"",key:a},r.createElement("td",null,n[a].getGameID()),r.createElement("td",null,n[a].getGameName()),r.createElement("td",null,n[a].getMaxPlayers()),r.createElement("td",null,n[a].getNumPlayers(),"/",n[a].maxPlayer)))},o=0;o<n.length;o++)a(o);return r.createElement("div",{className:"view"},r.createElement("div",{className:"half-partition"},r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",null,r.createElement("th",null,"#"),r.createElement("th",null,"Name"),r.createElement("th",null,"Players"),r.createElement("th",null,"In-Game")),t)),r.createElement("p",null,r.createElement("button",{onClick:e.joinGameButtonPressed,disabled:-1==e.state.selectedGame},"Join Game"))),r.createElement("div",{className:"half-partition"},r.createElement("form",{onSubmit:e.createGameButtonPressed},r.createElement("p",null,r.createElement("label",null,"Name:",r.createElement("br",null),r.createElement("input",{type:"text",value:e.state.createGameName,onChange:e.onCreateGameNameChange}))),r.createElement("p",null,r.createElement("label",null,"Number of players:",r.createElement("br",null),r.createElement("input",{type:"text",value:e.state.createGameNumPlayers,onChange:e.onCreateGameNumPlayersChange}))),r.createElement("input",{type:"submit",value:"Create Game",className:"wide-button"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new(n(1).GameList);t.initialState={gameList:r,selectedGame:-1,createGameName:"",createGameNumPlayers:0}},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(11),s=n(12),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=s.initialState,t.update=function(e,n){"transitionPage"==e&&t.props.main.setState({page:n})},t.startGameButtonPressed=function(e){e.preventDefault(),alert("starting game...")},t}return a(t,e),t.prototype.render=function(){return i.GameLobbyView(this)},t}(o.Component);t.GameLobbyViewModel=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.GameLobbyView=function(e){for(var t=[],n=e.state.playerList,a=0;a<n.length;a++)t.push(r.createElement("li",null,n[a]));return r.createElement("div",{className:"view"},r.createElement("div",{className:"half-partition"},r.createElement("p",null,r.createElement("b",null,r.createElement("u",null,"Players"))),r.createElement("ul",null,t),r.createElement("p",null,r.createElement("button",{onClick:e.startGameButtonPressed,disabled:n.length<2},"Start Game"))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.initialState={playerList:[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){this.serverUrlIn=e,this.serverPortIn=t,this.serialIn=n,this.facadeIn=r,this.serverUrl=e,this.serverPort=t,this.serializer=n,this.clientFacade=r}return e.prototype.sendCommand=function(e){var t=this.serializer.toJSON(e),n=new XMLHttpRequest;n.open("POST",this.serverPort+this.serverUrl,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");var r=this,a=this.serializer;n.onload=function(){if(n.status>=200&&n.status<400){var e=a.parseJSON(n.responseText);r.executeCommands([e])}},n.onerror=function(){},n.send(t)},e.prototype.executeCommands=function(e){for(var t=0;t<e.length;t++)"loginStatus"==e[t].methodName?this.clientFacade.loginResults(e[t].paramValues[0],e[t].paramValues[1]):"registerStatus"==e[t].methodName?this.clientFacade.registerResults(e[t].paramValues[0],e[t].paramValues[1]):"createGame"==e[t].methodName?this.clientFacade.updateGameList(this.serializer.parseJSONGames(e[t].paramValues[2])):"joinGame"==e[t].methodName?this.clientFacade.joinGame(e[t].paramValues[2]):"startGame"==e[t].methodName&&this.clientFacade.startGame(e[t].paramValues[2])},e}();t.ClientCommunicator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.toJSON=function(e){return JSON.stringify(e)},e.prototype.parseJSON=function(e){return JSON.parse(e)},e.prototype.parseJSONGames=function(e){return JSON.parse(e)},e}();t.Serializer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.root=e}return e.prototype.loginResults=function(e,t){this.root.loginResults(e,t)},e.prototype.registerResults=function(e,t){this.root.registerResults(e,t)},e.prototype.updateGameList=function(e){this.root.updateGameList(e)},e.prototype.transitionPage=function(e){this.root.transitionPage(e)},e.prototype.getGameList=function(){return this.root.getGameList()},e.prototype.joinGame=function(e){this.root.joinGame(e)},e.prototype.startGame=function(e){this.root.startGame(e)},e}();t.ExternalClientFacade=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(17),o=function(){function e(){this.gameList=new r.GameList,this.myPlayer=null,this.lobby=null,this.session=new a.Session,this.observers=new Array}return e.prototype.attach=function(e){this.observers.push(e)},e.prototype.detach=function(e){},e.prototype.notify=function(e,t){for(var n=0,r=this.observers;n<r.length;n++){r[n].update(e,t)}},e.prototype.transitionPage=function(e){this.session.setCurrentPage(e),this.notify("transitionPage",e)},e.prototype.getGameList=function(){return this.gameList.getGames()},e.prototype.joinGame=function(e){this.myPlayer.setCurrentGame(e),this.transitionPage("lobbyGame")},e.prototype.getCurrentUser=function(){return this.myPlayer.getUsername()},e.prototype.updateGameList=function(e){this.gameList.replaceGameList(e.getGames()),this.notify("updateGameList",this.gameList)},e.prototype.startGame=function(e){this.notify("startGame",e)},e.prototype.loginResults=function(e,t){e?(this.session.setLoggedInUser(this.myPlayer),this.transitionPage("gameList")):this.notify("error",t)},e.prototype.registerResults=function(e,t){e?(this.session.setLoggedInUser(this.myPlayer),this.transitionPage("gameList")):this.notify("error",t)},e}();t.ClientRoot=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.currentPage="Login",this.loggedInUser=null}return Object.defineProperty(e.prototype,"getCurrentPage",{get:function(){return this.currentPage},enumerable:!0,configurable:!0}),e.prototype.setCurrentPage=function(e){this.currentPage=e},Object.defineProperty(e.prototype,"getLoggedInUser",{get:function(){return this.loggedInUser},enumerable:!0,configurable:!0}),e.prototype.setLoggedInUser=function(e){this.loggedInUser=e},e}();t.Session=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.proxy=e,this.root=t}return e.prototype.login=function(e,t){this.proxy.login(e,t)},e.prototype.register=function(e,t){this.proxy.register(e,t,"YES")},e.prototype.createGame=function(e,t){var n=this.root.getCurrentUser();this.proxy.createGame(n,e,t)},e.prototype.getGameList=function(){this.proxy.getGameList()},e.prototype.joinGame=function(e,t){var n=this.root.getCurrentUser();this.proxy.joinGame(n,e,t)},e.prototype.startGame=function(e){this.proxy.startGame(e)},e}();t.InternalClientFacade=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),a=function(){function e(e){this.commIn=e,this.communicator=e}return e.prototype.register=function(e,t,n){var a=new r.ClientCommandObjects("ServerFacade","register",["_paramTypeString","_paramTypeString"],[e,t]);this.communicator.sendCommand(a)},e.prototype.login=function(e,t){var n=new r.ClientCommandObjects("ServerFacade","login",["_paramTypeString","_paramTypeString"],[e,t]);this.communicator.sendCommand(n)},e.prototype.createGame=function(e,t,n){var a=new r.ClientCommandObjects("ServerFacade","createGame",["_paramTypeString","_paramTypeString","_paramTypeInteger"],[e,n,t]);this.communicator.sendCommand(a)},e.prototype.joinGame=function(e,t,n){var a=new r.ClientCommandObjects("ServerFacade","joinGame",["_paramTypeString","_paramTypeString","_paramTypeString"],[e,t,n]);this.communicator.sendCommand(a)},e.prototype.startGame=function(e){var t=new r.ClientCommandObjects("ServerFacade","startGame",["_paramTypeString"],[e]);this.communicator.sendCommand(t)},e.prototype.getGameList=function(){var e=new r.ClientCommandObjects("ServerFacade","getGameList",[],[]);this.communicator.sendCommand(e)},e}();t.ServerProxy=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t,n,r){this.classNameIn=e,this.methodNameIn=t,this.paramTypesIn=n,this.paramValuesIn=r,this.className=e,this.methodName=t,this.paramTypes=n,this.paramValues=r}}();t.ClientCommandObjects=r}]);
//# sourceMappingURL=bundle.js.map